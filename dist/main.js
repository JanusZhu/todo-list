(()=>{"use strict";class t{constructor(t){this.name=t,this.tasks=[]}getName(){return this.name}setName(t){this.name=t}addTask(t){this.tasks.push(t)}setTasks(){this.tasks=tasks}getTask(t){return this.tasks.find((e=>e.getName()===t))}getTasks(){return this.tasks}clearTask(){this.task=[]}contains(t){return this.tasks.some((e=>e.getName()===t))}deleteTask(t){this.tasks=this.tasks.filter((e=>e.getName!==t))}}class e{constructor(){this.projects=[],this.projects.push(new t("Inbox")),this.projects.push(new t("Today")),this.projects.push(new t("This week"))}setProjects(t){this.projects=t}getProjects(){return this.projects}getProject(t){return this.projects.filter((e=>e.getName()===t))}contains(t){return this.projects.some((e=>e.getName()===t))}addProject(t){this.projects.find((e=>e.getName()===t.getName()))||this.projects.push(t)}deleteProject(t){const e=this.projects.find((e=>e.getName()===t));this.projects.splice(projects.indexOf(e),1)}}class s{constructor(t,e=1){this.name=t,this.priority=e}getName(){return this.name}getPriority(){return this.priority}setName(t){this.name=t}}const n=class{static saveTodoLIst(t){localStorage.setItem("projects",t)}static getProjects(){const n=Object.assign(new e,JSON.parse(localStorage.getItem("projects")));return n.setProjects(n.getProjects().map((e=>Object.assign(new t,e)))),n.getProjects().forEach((t=>t.setTasks(t.getTasks().map((t=>Object.assign(new s,t)))))),n}static addProject(t){const e=this.getProjects();e.addProject(t),this.saveTodoLIst(e)}static deleteProject(t){const e=this.getProjects();e.deleteProject(t),this.saveTodoLIst(e)}static addTask(t,e){const s=this.getProjects();s.getProject(t).addTask(e),this.saveTodoLIst(s)}static deleteTask(t,e){const s=this.getProjects();s.getProject(t).deleteTask(e),this.saveTodoLIst(s)}};document.addEventListener("DOMContentLoaded",class{static loadHeader(){const t=document.createElement("header"),e=document.createElement("img");e.src="https://img.icons8.com/arcade/64/000000/todo-list.png";const s=document.createElement("p");return s.textContent="Todoism",t.append(e,s),t}static loadFooter(){const t=document.createElement("footer");t.textContent="CopyrightsÂ© JanusZhu |";const e=document.createElement("a");return e.href="#",e.textContent="Source Code",t.appendChild(e),document.getElementById("content").after(t),t}static loadHome(){const t=document.createElement("div");return t.classList.add("home"),t.append(this.loadSideBar(),this.loadProjectPreview()),t}static loadSideBar(){const t=document.createElement("div");t.classList.add("sideBar");const e=n.getProjects();for(let s=0;s<e.length;s++){const n=document.createElement("div");n.classList.add("row");const o=document.createElement("img");o.src="https://img.icons8.com/cotton/64/000000/bulleted-list.png";const c=document.createElement("p");c.textContent=e[s];const a=document.createElement("img");a.classList.add("delete"),a.src="https://img.icons8.com/sf-ultralight/25/000000/delete-forever.png",a.addEventListener("click",(()=>{this.handleDelete(s)})),n.append(o,c,a),t.append(n)}return t.append(this.loadAddSection()),t}static loadAddSection(){const t=document.createElement("div");t.classList.add("row");const e=document.createElement("img");e.src="https://img.icons8.com/ios-glyphs/30/000000/plus-math.png";const s=document.createElement("p");return s.textContent="Add A New Project",t.append(e,s),t.addEventListener("click",(()=>{this.loadProjectBtn(t)})),t}static loadProjectBtn(t){t.classList.add("hidden");const e=document.createElement("div");e.classList.add("new-project");const s=document.createElement("input");s.type="text",s.placeholder="Name",s.maxLength=10;const n=document.createElement("button");n.classList.add("add"),n.textContent="Add",n.addEventListener("click",(()=>{this.handleAdd()}));const o=document.createElement("button");o.classList.add("cancel"),o.textContent="Cancel",o.addEventListener("click",(()=>{this.handleCancel()})),e.append(s,n,o),document.querySelector(".sideBar").appendChild(e)}static handleAdd(){const t=document.querySelector("input");""===t.value?alert("Please add a name"):(n.addProject(t.value),this.handleCancel(),this.loadContent())}static handleDelete(t){n.deleteProject(t),this.loadContent()}static handleCancel(){document.querySelector(".new-project").remove(),document.querySelector(".hidden")&&document.querySelector(".hidden").classList.remove("hidden")}static loadProjectPreview(){const t=document.createElement("div");return t.classList.add("preview"),t}static loadContent(){const t=document.querySelector("#content");t.innerHTML="",t.append(this.loadHeader(),this.loadHome(),this.loadFooter())}static initializeContent(){const t=document.querySelector("#content");n.setDefaultProjects(),t.innerHTML="",t.append(this.loadHeader(),this.loadHome(),this.loadFooter())}}.initializeContent())})();